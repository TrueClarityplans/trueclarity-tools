<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trucker's Paycheck Protection Plan | TrueClarity Plans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
        }
        .font-serif {
            font-family: 'DM Serif Display', serif;
        }
        .bg-brand-blue { background-color: #1E3A8A; }
        .hover\:bg-brand-blue-dark:hover { background-color: #1e3a8aE6; }
        .text-brand-blue { color: #1E3A8A; }
        .text-brand-gold { color: #FBBF24; }
        .border-brand-blue { border-color: #1E3A8A; }
        .focus\:ring-brand-blue:focus {
            --tw-ring-color: #1E3A8A;
        }
        .stage {
            display: none;
        }
        .stage.active {
            display: block;
            animation: fade-in 0.6s ease-in-out;
        }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
         .choice-button {
            transition: all 0.2s ease-in-out;
            border: 2px solid #e5e7eb;
        }
        .choice-button:hover {
            border-color: #FBBF24;
            transform: translateY(-2px);
        }
        .choice-button.selected {
            border-color: #1E3A8A;
            background-color: #eff6ff;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-lg mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
        <div class="p-8 md:p-10">

            <!-- Stage 1: Lead Capture -->
            <div id="stage-1" class="stage active text-center">
                <h1 class="text-3xl font-serif text-brand-blue">If Your Rig Stopped, Would Your Paychecks Stop Too?</h1>
                <p class="mt-4 text-gray-600">You protect your truck. Let's protect your income. Get an instant estimate on a plan that replaces your paycheck for your family.</p>
                <form id="lead-capture-form" class="mt-6 flex flex-col gap-4">
                    <input type="email" id="user-email" placeholder="Enter Your Best Email" required class="w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-brand-blue focus:border-brand-blue text-center">
                    <button type="submit" class="w-full bg-brand-blue hover:bg-brand-blue-dark text-white font-bold py-3 px-6 rounded-lg text-lg transition-all">
                        Get My Free Estimate
                    </button>
                    <p class="text-xs text-gray-400 mt-2">Takes 60 seconds. No obligation.</p>
                </form>
            </div>

            <!-- Stage 2: Calculator -->
            <div id="stage-2" class="stage">
                 <h2 class="text-2xl font-serif text-center text-gray-800">Paycheck Protection Estimator</h2>
                 <div class="mt-6 space-y-4">
                     <div>
                        <label for="weekly-pay" class="block text-sm font-medium text-gray-700">Average Weekly Take-Home Pay</label>
                        <input type="number" id="weekly-pay" placeholder="$1,500" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                    <div>
                        <label for="protection-years" class="block text-sm font-medium text-gray-700">How many years of paychecks to protect?</label>
                        <select id="protection-years" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                            <option value="10">10 Years</option>
                            <option value="15">15 Years</option>
                            <option value="20" selected>20 Years</option>
                            <option value="25">25 Years</option>
                        </select>
                    </div>
                     <div class="grid grid-cols-2 gap-4">
                         <div>
                            <label for="age" class="block text-sm font-medium text-gray-700">Your Age</label>
                            <input type="number" id="age" placeholder="e.g., 40" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                        </div>
                        <div>
                             <label class="block text-sm font-medium text-gray-700">Tobacco User?</label>
                             <div id="tobacco-choices" class="grid grid-cols-2 gap-2 mt-1">
                                <button class="choice-button p-2 rounded-lg" data-value="no">No</button>
                                <button class="choice-button p-2 rounded-lg" data-value="yes">Yes</button>
                            </div>
                             <input type="hidden" id="tobacco-status" value="">
                        </div>
                    </div>
                </div>
                <div class="mt-8">
                    <button id="calculate-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-all disabled:opacity-50" disabled>
                        See My Estimated Rate
                    </button>
                </div>
            </div>
            
            <!-- Stage 3: Results -->
            <div id="stage-3" class="stage text-center">
                <h2 class="text-2xl font-serif text-gray-800">Your Estimated Protection Plan:</h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6">
                    <div class="bg-blue-50 p-4 rounded-lg border border-brand-blue">
                        <p class="text-sm font-semibold text-brand-blue">Estimated Monthly Cost</p>
                        <p id="rate-amount" class="text-3xl font-bold text-brand-blue mt-1"></p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-gray-600">Total Income Protected</p>
                        <p id="protected-income" class="text-3xl font-bold text-gray-800 mt-1"></p>
                    </div>
                </div>

                <div class="bg-gray-100 p-4 rounded-lg text-xs text-gray-600 mt-6">
                     <p><strong>Disclaimer:</strong> This is an estimate for a healthy, non-tobacco user and is not a guaranteed quote. Your final rate depends on your health and lifestyle, as determined by the insurance carrier's underwriting process.</p>
                </div>
                <p class="mt-6 text-gray-700 font-medium">This is how affordable it can be to make sure your family is taken care of. A formal quote is free and takes minutes.</p>
                <a href="https://calendly.com/trueclarity-consult/free-15-min-consultation" target="_blank" rel="noopener noreferrer" class="mt-4 inline-block w-full bg-brand-blue hover:bg-brand-blue-dark text-white font-bold py-3 px-6 rounded-lg text-lg transition-all">
                    Get a Formal Quote Now
                </a>
            </div>
        </div>
    </div>

    <script>
        const stages = document.querySelectorAll('.stage');
        const leadCaptureForm = document.getElementById('lead-capture-form');
        const calculateBtn = document.getElementById('calculate-btn');
        const tobaccoChoiceContainer = document.getElementById('tobacco-choices');
        const tobaccoStatusInput = document.getElementById('tobacco-status');

        function switchStage(stageIndex) {
            stages.forEach((stage, index) => {
                stage.classList.toggle('active', index === stageIndex);
            });
        }
        
        function validateForm(){
            const weeklyPay = document.getElementById('weekly-pay').value;
            const age = document.getElementById('age').value;
            const tobacco = tobaccoStatusInput.value;
            calculateBtn.disabled = !(weeklyPay && age && tobacco);
        }
        
        // --- Event Listeners ---
        
        leadCaptureForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const emailValue = document.getElementById('user-email').value;
            if (emailValue) {
                // In a real app, send lead to CRM here
                console.log('Lead Captured:', emailValue);
                
                // Example of sending to a GHL webhook
                /*
                const webhookUrl = 'YOUR_GHL_WEBHOOK_URL_HERE';
                fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email: emailValue, source: 'Trucker Paycheck Protector' }),
                })
                .catch(error => console.error('Webhook Error:', error));
                */

                switchStage(1); 
            }
        });

        tobaccoChoiceContainer.addEventListener('click', (e) => {
            const button = e.target.closest('.choice-button');
            if (!button) return;
            tobaccoChoiceContainer.querySelectorAll('.choice-button').forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            tobaccoStatusInput.value = button.dataset.value;
            validateForm();
        });

        document.getElementById('weekly-pay').addEventListener('input', validateForm);
        document.getElementById('age').addEventListener('input', validateForm);

        calculateBtn.addEventListener('click', () => {
            const weeklyPay = parseFloat(document.getElementById('weekly-pay').value) || 0;
            const years = parseInt(document.getElementById('protection-years').value);
            const age = parseInt(document.getElementById('age').value);
            const isTobaccoUser = tobaccoStatusInput.value === 'yes';

            const totalProtectedIncome = weeklyPay * 52 * years;

            // --- Simplified Rate Estimation Logic ---
            let baseRate = 8;
            let ageFactor = Math.pow(1.09, age - 30);
            if (age > 45) ageFactor *= 1.6;
            
            let coverageFactor = totalProtectedIncome / 250000;
            let tobaccoFactor = isTobaccoUser ? 3.5 : 1.0;
            
            let estimatedMonthlyRate = baseRate * ageFactor * coverageFactor * tobaccoFactor;

            const currencyFormatter = new Intl.NumberFormat('en-US', { 
                style: 'currency', 
                currency: 'USD', 
                minimumFractionDigits: 0,
                maximumFractionDigits: 0 
            });

            document.getElementById('rate-amount').textContent = `${currencyFormatter.format(estimatedMonthlyRate)}/mo`;
            document.getElementById('protected-income').textContent = currencyFormatter.format(totalProtectedIncome);
            
            switchStage(2);
        });

    </script>
</body>
</html>